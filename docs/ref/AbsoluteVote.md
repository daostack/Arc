












# AbsoluteVote

### AbsoluteVote



## Functions



### Constant functions

#### getNumberOfChoices

getNumberOfChoices returns the number of choices possible in this proposal


##### Inputs

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_proposalId|bytes32||the ID of the proposal|


##### Returns

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|param0|uint|||


#### isVotable

isVotable check if the proposal is votable


##### Inputs

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_proposalId|bytes32||the ID of the proposal|


##### Returns

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|param0|bool|||


#### parameters




##### Inputs

empty list


##### Returns

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|return0|[object Object]||parameters|


#### proposals




##### Inputs

empty list


##### Returns

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|return0|[object Object]||proposals|


#### voteInfo

voteInfo returns the vote and the amount of reputation of the user committed to this proposal
uint reputation - amount of reputation committed by _voter to _proposalId

##### Inputs

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_proposalId|bytes32||the ID of the proposal|
|1|_voter|address||the address of the voter|


##### Returns

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|param0|uint|||
|1|param1|uint|||


#### votesStatus

votesStatus returns the number of yes, no, and abstain and if the proposal is ended of a given proposal id


##### Inputs

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_proposalId|bytes32||the ID of the proposal|


##### Returns

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|votes|uint||array of votes for each choice|






### State changing functions

#### cancelProposal

Cancel a proposal, only the owner can call this function and only if allowOwner flag is true.


##### Inputs

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_proposalId|bytes32||the proposal ID|


#### cancelVote

Cancel the vote of the msg.sender: subtract the reputation amount from the votes
and delete the voter from the proposal struct

##### Inputs

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_proposalId|bytes32||id of the proposal|


#### deleteProposal




##### Inputs

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_proposalId|bytes32|||


#### execute

execute check if the proposal has been decided, and if so, execute the proposal
false - otherwise.

##### Inputs

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_proposalId|bytes32||the id of the proposal|


#### getParametersHash

hashParameters returns a hash of the given parameters


##### Inputs

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_reputationSystem|Reputation|||
|1|_precReq|uint|||
|2|_allowOwner|bool|||


#### internalVote

Vote for a proposal, if the voter already voted, cancel the last vote and set a new one instead
throws if proposal is not open or if it has been executedNB: executes the proposal if a decision has been reached

##### Inputs

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_proposalId|bytes32||id of the proposal|
|1|_voter|address||used in case the vote is cast for someone else|
|2|_vote|uint||a value between 0 to and the proposal's number of choices.|
|3|_rep|uint|||


#### ownerVote

voting function with owner functionality (can vote on behalf of someone else)
false - otherwise.

##### Inputs

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_proposalId|bytes32||id of the proposal|
|1|_vote|uint||a value between 0 to and the proposal number of choices.|
|2|_voter|address||will be voted with that voter's address|


#### propose

register a new proposal with the given parameters. Every proposal has a unique ID which is being
generated by calculating keccak256 of a incremented counter.TODO: Maybe we need to check the 0 < precReq <= 100 ??

##### Inputs

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_numOfChoices|uint|||
|1|_paramsHash|bytes32||defined the parameters of the voting machine used for this proposal|
|2|_avatar|address||an address to be sent as the payload to the _executable contract.|
|3|_executable|ExecutableInterface||This contract will be executed when vote is over.|


#### setParameters

hash the parameters, save them if necessary, and return the hash value


##### Inputs

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_reputationSystem|Reputation|||
|1|_precReq|uint|||
|2|_allowOwner|bool|||


#### vote

voting function
false - otherwise.

##### Inputs

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_proposalId|bytes32||id of the proposal|
|1|_vote|uint||a value between 0 to and the proposal number of choices.|


#### voteWithSpecifiedAmounts




##### Inputs

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_proposalId|bytes32|||
|1|_vote|uint|||
|2|_rep|uint|||
|3||uint|||






### Events

#### LogNewProposal




##### Params

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_proposalId|bytes32|||
|1|_numOfChoices|uint|||
|2|_proposer|address|||
|3|_paramsHash|bytes32|||


#### LogCancelProposal




##### Params

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_proposalId|bytes32|||


#### LogExecuteProposal




##### Params

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_proposalId|bytes32|||
|1|_decision|uint|||


#### LogVoteProposal




##### Params

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_proposalId|bytes32|||
|1|_voter|address|||
|2|_vote|uint|||
|3|_reputation|uint|||
|4|_isOwnerVote|bool|||


#### LogCancelVoting




##### Params

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|_proposalId|bytes32|||
|1|_voter|address|||





### Enums




### Structs

#### Parameters




##### Params

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|reputationSystem|Reputation|||
|1|precReq|uint|||
|2|allowOwner|bool|||


#### Voter




##### Params

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|vote|uint|||
|1|reputation|uint|||


#### Proposal




##### Params

|#  |Param|Type|TypeHint|Description|
|---|-----|----|--------|-----------|
|0|owner|address|||
|1|avatar|address|||
|2|numOfChoices|uint|||
|3|executable|ExecutableInterface|||
|4|paramsHash|bytes32|||
|5|totalVotes|uint|||
|6|votes|[object Object]|||
|7|voters|[object Object]|||
|8|open|bool|||




